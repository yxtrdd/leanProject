/**
 * EasyUIEx
 * 
 * Version 2.2.3
 * 
 * http://easyproject.cn https://github.com/ushelp
 * 
 * Copyright 2014 Ray [ inthinkcolor@gmail.com ]
 * 
 * Dependencies: jQuery EasyUI
 * 
 */
!function(){var dgLastEditIndex,dgLastEditType,dgLastEditData,dgLastCellField,dgType,dgHeaderMenu,treeChkData,toEdit,endEditing,createColumnMenu,clearLast,jsonEquals,showDatagridContextMenu,showTreegridContextMenu,showHeaderMenu,clickRowEdit,clickCellEdit,initDgContextMenu,initTgContextMenu,initDgHeaderContextMenu,contextMenuTab,_uiEx=window.uiEx,uiEx={showRowEditMsg:!1,showRowAddMsg:!1,showRowDeleteMsg:!0,msgDefaults:{timeout:4e3,showType:"slide"},dataGridDefaults:{rownumbers:!0,fitColumns:!0,singleSelect:!0,pagination:!0,method:"post",striped:!0},detailDataGridDefaults:{rownumbers:!0,fitColumns:!0,singleSelect:!0,pagination:!0,method:"post",striped:!0,detailFormatter:function(){return'<div class="ddv"></div>'}},expReg:/\{([\s\S]+?)\}/g,msg:{}};uiEx.globalDialogMap={},dgLastEditIndex={},dgLastEditType={},dgLastEditData={},dgLastCellField={},dgType={},dgHeaderMenu={},treeChkData={},toEdit=function(a,b,c,d){if(endEditing(b)){b.datagrid("selectRow",c).datagrid("beginEdit",c),dgLastEditIndex[a]=c,dgLastEditType[a]="edit";var e={};$.extend(!0,e,d),dgLastEditData[a]=e}else b.datagrid("selectRow",c)},endEditing=function(a,b){var f,g,h,i,j,k,l,m,n,c=$(a),d=c.attr("id"),e=dgLastEditIndex[d];return void 0==e?!0:(f=dgLastEditType[d],c.datagrid("validateRow",e)?(c.datagrid("endEdit",e),jsonEquals(c.datagrid("getRows")[e],dgLastEditData[d])?(uiEx.rowCancelEdit(a),clearLast(d),!0):"editcell"==f&&(g=dgLastCellField[d],jsonEquals(c.datagrid("getRows",e)[e][g],dgLastEditData[d]))?(uiEx.rowCancelEdit(a),clearLast(d),!0):(h=c.datagrid("options").updateUrl,i=uiEx.rowEditSuccessMsg,j=uiEx.rowEditFailureMsg,k=c.datagrid("options").method,"add"==f?(void 0==b&&(b=uiEx.showRowAddMsg),h=c.datagrid("options").saveUrl,i=uiEx.rowAddSuccessMsg,j=uiEx.rowAddFailureMsg):"edit"==f&&void 0==b&&(b=uiEx.showRowEditMsg),l=c.datagrid("options"),m=c.datagrid("getRows")[e],n={},l.sendRowDataPrefix?$.each(m,function(a){n[l.sendRowDataPrefix+a]=m[a]}):n=m,c.datagrid("options")&&(c.datagrid("options").pageSize&&(n.rows=c.datagrid("options").pageSize),c.datagrid("options").pageNumber&&(n.page=c.datagrid("options").pageNumber)),$.ajax({url:h,type:k,data:n,error:function(){b&&uiEx.msg(j)},success:function(a){b&&uiEx.msg(i),c.datagrid("updateRow",{index:e,row:a.rowData})}}),clearLast(d),!0)):!1)},createColumnMenu=function(a){var c,d,e,f,b=$("<div/>").appendTo("body");for(b.menu({onClick:function(c){"icon-ok"==c.iconCls?($(a).datagrid("hideColumn",c.name),b.menu("setIcon",{target:c.target,iconCls:"icon-empty"})):($(a).datagrid("showColumn",c.name),b.menu("setIcon",{target:c.target,iconCls:"icon-ok"}))}}),c=$(a).datagrid("getColumnFields"),d=0;d<c.length;d++)e=c[d],f=$(a).datagrid("getColumnOption",e),b.menu("appendItem",{text:f.title,name:e,iconCls:"icon-ok"});return b},clearLast=function(a){dgLastEditIndex[a]=void 0,dgLastEditData[a]=void 0,dgLastEditType[a]=void 0,dgLastCellField[a]=void 0},jsonEquals=function(a,b){var e,c=!1,d=!1;if("string"!=typeof a&&"number"!=typeof a&&"boolean"!=typeof a){for(e in a){c=!0;break}for(e in b){d=!0;break}}if(c&&d){for(e in a)if(!jsonEquals(a[e],b[e]))return!1;return!0}return a+""==b+""},showDatagridContextMenu=function(a,b){a.preventDefault(),$(this).datagrid("selectRow",b),$($(this).datagrid("options").menuSelector).menu("show",{left:a.pageX,top:a.pageY})},showTreegridContextMenu=function(a,b){a.preventDefault(),$(this).treegrid("select",b.id),$($(this).treegrid("options").menuSelector).menu("show",{left:a.pageX,top:a.pageY})},showHeaderMenu=function(a){var c,d,e;a.preventDefault(),c=this,d=$(this).attr("id"),e=dgHeaderMenu[d],void 0==e&&(e=createColumnMenu(c),dgHeaderMenu[d]=e),e.menu("show",{left:a.pageX,top:a.pageY})},clickRowEdit=function(a,b){var c=$(this),d=c.attr("id"),e=dgLastEditIndex[d];e!=a&&toEdit(d,c,a,b)},clickCellEdit=function(a,b,c){var d=$(this),e=d.attr("id");endEditing(d)&&(d.datagrid("selectRow",a).datagrid("editCell",{index:a,field:b}),dgLastEditIndex[e]=a,dgLastEditType[e]="editcell",dgLastEditData[e]=c,dgLastCellField[e]=b)},initDgContextMenu=function(a,b){if(a.showContextMenu)if(a.onRowContextMenu){var c=a.onRowContextMenu;b.onRowContextMenu=function(a,b,d){c(a,b,d),showDatagridContextMenu(a,b,d)}}else b.onRowContextMenu=showDatagridContextMenu},initTgContextMenu=function(a,b){if(a.showContextMenu)if(a.onContextMenu){var c=a.onContextMenu;b.onContextMenu=function(a,b,d){c(a,b,d),showTreegridContextMenu(a,b,d)}}else b.onContextMenu=showTreegridContextMenu},initDgHeaderContextMenu=function(a,b){if(a.showHeaderContextMenu)if(a.onHeaderContextMenu){var c=a.onHeaderContextMenu;b.onHeaderContextMenu=function(a,b){c(a,b),showHeaderMenu(a,b)}}else b.onHeaderContextMenu=showHeaderMenu},$.extend($.fn.datagrid.methods,{editCell:function(a,b){return a.each(function(){var c,d,a=$(this).datagrid("getColumnFields",!0).concat($(this).datagrid("getColumnFields"));for(c=0;c<a.length;c++)d=$(this).datagrid("getColumnOption",a[c]),d.editor1=d.editor,a[c]!=b.field&&(d.editor=null);for($(this).datagrid("beginEdit",b.index),c=0;c<a.length;c++)d=$(this).datagrid("getColumnOption",a[c]),d.editor=d.editor1})}}),uiEx.alert=function(a,b,c){$.messager.alert(this.alertTitle,a,b,c)},uiEx.confirm=function(a,b){$.messager.confirm(this.confirmTitle,a,b)},uiEx.prompt=function(a,b){$.messager.prompt(this.promptTitle,a,b)},uiEx.msg=function(a,b,c){var d,e;b&&(b=b.toLowerCase(),"topleft"==b?d={right:"",left:0,top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""}:"topcenter"==b?d={right:"",top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""}:"topright"==b?d={left:"",right:0,top:document.body.scrollTop+document.documentElement.scrollTop,bottom:""}:"centerleft"==b?d={left:0,right:"",bottom:""}:"center"==b?d={right:"",bottom:""}:"centerright"==b?d={left:"",right:0,bottom:""}:"bottomleft"==b?d={left:0,right:"",top:"",bottom:-document.body.scrollTop-document.documentElement.scrollTop}:"bottomcenter"==b&&(d={right:"",top:"",bottom:-document.body.scrollTop-document.documentElement.scrollTop})),e={},c||(c={}),c.style=d,c.msg=a,c.title=this.msgTitle,$.extend(e,uiEx.msgDefaults,c),$.messager.show(e)},uiEx.openDialog=function(a,b){return b||(b=$(a).panel("options").title),$(a).dialog({cache:!1,closed:!1,title:b})},uiEx.openHrefDialog=function(a,b,c){return c||(c=$(a).panel("options").title),$(a).dialog({href:b,cache:!1,closed:!1,title:c})},uiEx.closeDialog=function(a){return $(a).dialog({closed:!0})},uiEx.clearForm=function(a){return this.disableValidate(a).form("clear")},uiEx.resetForm=function(a){return this.disableValidate(a).form("reset")},uiEx.loadForm=function(a,b,c){c||(c="");var d={};$.each(b,function(a,b){d[c+a]=b}),$(a).form("load",d)},uiEx.enableValidate=function(a){return $(a).form("enableValidation")},uiEx.disableValidate=function(a){return $(a).form("disableValidation")},uiEx.validate=function(a){return this.enableValidate(a).form("validate")},uiEx.serializeJSON=function(a){var b={},c=$(a).serializeArray();return $.each(c,function(){void 0!==b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},uiEx.submitForm=function(a,b,c){var d=[];b&&$.each(b,function(b,c){var e=$('<input type="text" name="'+b+'" value="'+c+'"/>');$(a).append(e),d.push(e)}),0==c?$(a)[0].submit():this.validate(a)&&$(a)[0].submit(),$.each(d,function(a,b){$(b).remove()})},uiEx.submitAjax=function(a,b,c,d){uiEx.submitURLAjax(a,null,b,c,d)},uiEx.submitURLAjax=function(a,b,c,d,e){var f=function(a){c&&c(a),uiEx.formSubmitSuccess&&uiEx.formSubmitSuccess(a)};b?$(a).form("submit",{url:b,onSubmit:function(b){return b||(b={}),d&&$.extend(b,d),b.xRequestedWith="XMLHttpRequest",0==e?!0:uiEx.validate(a)},success:f,error:function(){uiEx.msg(uiEx.ajaxError,"bottomRight")}}):$(a).form("submit",{onSubmit:function(b){return b||(b={}),d&&$.extend(b,d),b.xRequestedWith="XMLHttpRequest",0==e?!0:uiEx.validate(a)},success:f,error:function(){uiEx.msg(uiEx.ajaxError,"bottomRight")}})},uiEx.openTab=function(a,b,c,d,e){var g,h,f=$(a);f.tabs("exists",b)?f.tabs("select",b):(f.tabs({onBeforeClose:function(){if(uiEx.globalDialogMap[b]){var a="#"+uiEx.globalDialogMap[b].join("#")+"#";$(".easyui-dialog").each(function(){if(-1==a.indexOf("#"+this.id+"#")){var b=$("#"+this.id);b.dialog({closed:!0}),b.dialog("destroy",!0)}}),uiEx.globalDialogMap[b]=new Array}return!0}}),g={title:b,closable:!0,selected:!0,iconCls:d,onBeforeLoad:function(){return $(".easyui-dialog").each(function(){uiEx.globalDialogMap[b]||(uiEx.globalDialogMap[b]=new Array),uiEx.globalDialogMap[b].push(this.id)}),!0}},e?(h='<iframe scrolling="auto" frameborder="0" src="'+c+'" style="width:100%;height:100%;"></iframe>',g["content"]=h):g["href"]=c,f.tabs("add",g)),$(".tabs-inner").on("dblclick",function(){var a=$(this).children(".tabs-closable").text();$("#tabs").tabs("close",a)})},uiEx.reloadSelTab=function(a){$(a).tabs("getSelected").panel("refresh")},uiEx.openMenuByText=function(a,b,c){var f,d=$(a),e=function(a){var c=d.tree("getNode",$(".tree-node:contains('"+a+"')")[0]);c&&(uiEx.openTab(b,c.text,c.url,c.iconCls),d.tree("select",c.target))};if($.isArray(c))for(f=0;f<c.length;f++)e(c[f]);else e(c)},uiEx.openMenuById=function(a,b,c){var f,d=$(a),e=function(a){var c=d.tree("find",a);c&&(uiEx.openTab(b,c.text,c.url,c.iconCls),d.tree("select",c.target))};if($.isArray(c))for(f=0;f<c.length;f++)e(c[f]);else e(c)},uiEx.addTabsContextMenu=function(a,b){$(a).tabs({onContextMenu:function(a,c,d){a.preventDefault(),b||(b="#tabsMenu");var e=$(b);contextMenuTab=$(this).tabs("getTab",d),contextMenuTab.panel("options").closable?e.menu("enableItem",e.find("[name=close]")):e.menu("disableItem",e.find("[name=close]")),e.menu("show",{left:a.pageX,top:a.pageY}).data("tabTitle",c)}}),$("#tabsMenu").menu({onClick:function(b){var f,g,h,c=contextMenuTab,d=$(a),e=d.tabs("getTabIndex",c);if(c)for(f=[],"close"==b.name?f.push(c):"all"==b.name?$.each(d.tabs("tabs"),function(a,b){f.push(b)}):"other"==b.name?$.each(d.tabs("tabs"),function(a,b){b!=c&&f.push(b)}):"closeRight"==b.name?$.each(d.tabs("tabs"),function(a,b){var c=d.tabs("getTabIndex",b);c>e&&f.push(b)}):"closeLeft"==b.name?$.each(d.tabs("tabs"),function(a,b){var c=d.tabs("getTabIndex",b);e>c&&f.push(b)}):"refresh"==b.name&&c.panel("refresh"),g=0;g<f.length;g++)h=f[g].panel("options"),h.closable&&d.tabs("close",h.title)}})},uiEx.initDatagrid=function(a,b){var e,f,g,c=$(a),d=c.attr("id");clearLast(d),b||(b={}),e={},initDgContextMenu(b,e),initDgHeaderContextMenu(b,e),b.clickRowEdit&&(b.onClickRow?(f=b.onClickRow,e.onClickRow=function(a,b){f(a,b),clickRowEdit(a,b)}):e.onClickRow=clickRowEdit),b.clickCellEdit&&(b.onClickCell?(g=b.onCellEdit,e.onClickCell=function(a,b,c){g(a,b,c),clickCellEdit(a,b,c)}):e.onClickCell=clickCellEdit),$.extend(e,uiEx.dataGridDefaults,b),c.datagrid(e),dgType[d]="datagrid"},uiEx.initEdatagrid=function(a,b){var e,c=$(a),d=c.attr("id");clearLast(d),b||(b={}),e={destroyMsg:{norecord:{title:uiEx.alertTitle,msg:uiEx.deleteSelectedMsg},confirm:{title:uiEx.confirmTitle,msg:uiEx.deleteConfirmMsg}}},initDgContextMenu(b,e),initDgHeaderContextMenu(b,e),$.extend(e,uiEx.dataGridDefaults,b),c.edatagrid(e),dgType[d]="edatagrid"},uiEx.initDetailDatagrid=function(a,b,c){var f,d=$(a),e=d.attr("id");clearLast(e),c||(c={}),f={view:detailview,onExpandRow:function(a,c){var e=$(this).datagrid("getRowDetail",a).find("div.ddv");e.panel({border:!1,cache:!0,href:b+"?index="+a,onLoad:function(){d.datagrid("fixDetailRowHeight",a),d.datagrid("selectRow",a),d.datagrid("getRowDetail",a).find("form").form("load",c)}}),$("#userDataGrid5").datagrid("fixDetailRowHeight",a)}},initDgContextMenu(c,f),initDgHeaderContextMenu(c,f),$.extend(f,uiEx.detailDataGridDefaults,c),d.datagrid(f),dgType[e]="detaildatagrid"},uiEx.detailRowAdd=function(a){var c,b=$(a);b.datagrid("appendRow",{isNewRecord:!0}),c=b.datagrid("getRows").length-1,b.datagrid("expandRow",c),b.datagrid("selectRow",c)},uiEx.detailRowSave=function(datagridSelector,index,showMsg){var successMsg,failureMsg,dg=$(datagridSelector),row=dg.datagrid("getRows")[index],saveUrl=dg.datagrid("options").saveUrl,updateUrl=dg.datagrid("options").updateUrl,url=row.isNewRecord?saveUrl:updateUrl;url=url.replace(uiEx.expReg,function(a,b){return row[b]}),successMsg=uiEx.rowEditSuccessMsg,failureMsg=uiEx.rowEditFailureMsg,row.isNewRecord?(void 0==showMsg&&(showMsg=uiEx.showRowAddMsg),successMsg=uiEx.rowAddSuccessMsg,failureMsg=uiEx.rowAddFailureMsg):void 0==showMsg&&(showMsg=uiEx.showRowEditMsg),dg.datagrid("getRowDetail",index).find("form").form("submit",{url:url,onSubmit:function(){return $(this).form("validate")},success:function(data){data=eval("("+data+")"),data.isNewRecord=!1,dg.datagrid("collapseRow",index),dg.datagrid("updateRow",{index:index,row:dg.datagrid("getRowDetail",index).find("form").serializeJSON()}),showMsg&&uiEx.msg(successMsg)}})},uiEx.detailRowCancel=function(a,b){var c=$(a),d=c.datagrid("getRows")[b];d.isNewRecord?c.datagrid("deleteRow",b):c.datagrid("collapseRow",b)},uiEx.rowAdd=function(a,b){var c,d,e;void 0==b&&(b={}),c=$(a),d=c.attr("id"),endEditing(a)&&(c.datagrid("appendRow",b),e=c.datagrid("getRows").length-1,c.datagrid("selectRow",e).datagrid("beginEdit",e),dgLastEditIndex[d]=e,dgLastEditType[d]="add")},uiEx.rowEdit=function(a){var b=$(a),c=b.attr("id");b.datagrid({onClickRow:function(a,d){var e=dgLastEditIndex[c];e!=a&&toEdit(c,b,a,d)}})},uiEx.rowDelete=function(a,b,c,d,e,f){var g=$(a),h=g.attr("id"),i=[],j=g.datagrid("getSelections");0!=j.length&&($.each(j,function(a,b){i.push(g.datagrid("getRowIndex",b))}),i.sort(function(a,b){return b-a}),void 0==b&&(b=uiEx.showRowDeleteMsg),uiEx.confirm(uiEx.deleteConfirmMsg,function(a){var k,l,m,n;if(a){if(k=g.datagrid("options").destroyUrl,l=g.datagrid("options").method,g.datagrid("options").mutipleDelete)return m=g.datagrid("options").mutipleDeleteProperty,n={},$.isArray(m)?$.each(m,function(a,b){n[b]=new Array,$.each(j,function(a,c){n[b].push(c[b])})}):(n[m]=new Array,$.each(j,function(a,b){n[m].push(b[m])})),g.datagrid("options")&&(g.datagrid("options").pageSize&&(n.rows=g.datagrid("options").pageSize),g.datagrid("options").pageNumber&&(n.page=g.datagrid("options").pageNumber)),n=$.param(n,!0),$.ajax({url:k,type:l,data:n,error:function(){b&&uiEx.msg(uiEx.rowDeleteFailureMsg)},success:function(a){b&&(d?a[d]&&a[d]==e?($.each(i,function(a,b){g.datagrid("deleteRow",b)}),clearLast(h),uiEx.msg(uiEx.rowDeleteSuccessMsg)):uiEx.msg(uiEx.rowDeleteFailureMsg):($.each(i,function(a,b){g.datagrid("deleteRow",b)}),clearLast(h),uiEx.msg(uiEx.rowDeleteSuccessMsg))),f&&f(a),0==g.datagrid("getRows").length&&g.datagrid("options").pageSize&&g.datagrid("options").pageNumber>1&&g.datagrid({pageNumber:g.datagrid("options").pageNumber-1})}}),void 0;$.each(i,function(a,c){var j,m,n,i=c;g.datagrid("endEdit",i),j=g.datagrid("options"),m=g.datagrid("getRows")[i],n={},j.sendRowDataPrefix?$.each(m,function(a){n[j.sendRowDataPrefix+a]=m[a]}):n=m,g.datagrid("cancelEdit",i).datagrid("deleteRow",i),g.datagrid("options")&&(g.datagrid("options").pageSize&&(n.rows=g.datagrid("options").pageSize),g.datagrid("options").pageNumber&&(n.page=g.datagrid("options").pageNumber)),$.ajax({url:k,type:l,data:n,error:function(){b&&uiEx.msg(uiEx.rowDeleteFailureMsg)},success:function(a){b&&(d?a[d]&&a[d]==e?(clearLast(h),uiEx.msg(uiEx.rowDeleteSuccessMsg)):(g.datagrid("insertRow",{index:i,row:m}),uiEx.msg(uiEx.rowDeleteFailureMsg)):(clearLast(h),uiEx.msg(uiEx.rowDeleteSuccessMsg))),f&&f(a),0==g.datagrid("getRows").length&&g.datagrid("options").pageSize&&g.datagrid("options").pageNumber>1&&g.datagrid({pageNumber:g.datagrid("options").pageNumber-1})}})}),c&&g.datagrid("reload")}}))},uiEx.rowCancelEdit=function(a){var b=$(a),c=b.attr("id");"edatagrid"==dgType[c]?b.edatagrid("cancelRow"):b.datagrid("cancelEdit",dgLastEditIndex[c]),"add"==dgLastEditType[c]&&b.edatagrid("deleteRow",dgLastEditIndex[c]),clearLast(c)},uiEx.beginEditGrid=function(a){var b=$(a),c=0;b.edatagrid("getSelected")?c=b.edatagrid("getRowIndex",b.edatagrid("getSelected")):b.edatagrid("selectRow",c),b.edatagrid("editRow",c)},uiEx.endEditGrid=function(a){var b=$(a);b.edatagrid("cancelRow"),b.edatagrid("options").editIndex=-1},uiEx.initTreegrid=function(a,b){var c={};b&&(initTgContextMenu(b,c),initDgHeaderContextMenu(b,c)),$.extend(c,b),$(a).treegrid(c)},uiEx.initParentIdTreegrid=function(a,b){b?b.loadFilter=function(a){return uiEx.convert(a)}:b={loadFilter:function(a){return uiEx.convert(a)}},uiEx.initTreegrid(a,b)},uiEx.collapse=function(a){var b=$(a).treegrid("getSelected");b&&$(a).treegrid("collapse",b.id)},uiEx.expand=function(a){var b=$(a).treegrid("getSelected");b&&$(a).treegrid("expand",b.id)},uiEx.initTreeChk=function(a,b,c){var d,e,f,g,h,i,j,k,l;b||(b={}),c||(c=[]),d=$(a),e=d.attr("id"),f=b.formatter,b.showTitle&&(b.formatter=function(a){var c=a[b.showTitle];return c||(c=a["text"]),f?"<span hidetitle='"+c+"'>"+f(a)+"</span>":"<span hidetitle='"+c+"'>"+a.text+"</span>"}),g=function(d,f){treeChkData[e]=f,uiEx.treeChkSetValues(a,c),b.showTitle&&$("[id^='_easyui_tree_']").each(function(){var c=$("[hidetitle]",this).attr("hidetitle");$(this).attr("title",c)})},h=g,i=function(a){a.checked?d.tree("uncheck",a.target):d.tree("check",a.target)},b["onLoadSuccess"]&&(j=b["onLoadSuccess"],h=function(a,b){j(a,b),g(a,b)}),b["onClick"]&&(k=b["onClick"],i=function(a,b){k(a,b),d.tree("check",a.target)}),b["onLoadSuccess"]=h,b["onClick"]=i,b["noChildCascadeCheck"]&&(b["cascadeCheck"]=!1,l=void 0,b["onCheck"]&&(l=b["onCheck"]),b["onCheck"]=function(a,c){var d,e;l&&(b["cascadeCheck"]=!1,l(a,c)),d=$(this),c?d.tree("getParent",a.target)&&d.tree("check",d.tree("getParent",a.target).target):(e=d.tree("getChildren",a.target),$.each(e,function(a,b){d.tree("uncheck",b.target)}))}),d.tree(b)},uiEx.initParentIdTreeChk=function(a,b,c){b?b.loadFilter=function(a){return uiEx.convert(a)}:b={loadFilter:function(a){return uiEx.convert(a)}},uiEx.initTreeChk(a,b,c)},uiEx.treeChkRest=function(a){var b=$(a),c=b.attr("id");b.tree("loadData",treeChkData[c])},uiEx.treeChkSetValues=function(a,b){var c=$(a);$.each(b,function(a,b){var d=c.tree("find",b);d&&c.tree("check",d.target)})},uiEx.getCheckedIds=function(a){var b=$(a).tree("getChecked",["checked","indeterminate"]),c=$.map(b,function(a){return a.id});return c},uiEx.getCheckedInfos=function(a,b){var c=$(a).tree("getChecked",["checked","indeterminate"]),d=$.map(c,function(a){var c={};return $.each(b,function(b,d){c[d]=a[d]}),c});return d},uiEx.initTree=function(a,b,c){var e,d={onClick:function(a){a.url&&uiEx.openTab(b,a.text,a.url,a.iconCls)}};c&&c.expandChilds&&(c.onSelect&&(e=c.onSelect),c.onSelect=function(a){e&&e(a),$(this).tree("toggle",a.target)}),$.extend(d,c),$(a).tree(d)},uiEx.initParentIdTree=function(a,b,c){c?c.loadFilter=function(a){return uiEx.convert(a)}:c={loadFilter:function(a){return uiEx.convert(a)}},uiEx.initTree(a,b,c)},uiEx.expandChilds=function(a){$(this).tree("toggle",a.target)},uiEx.convert=function(a){function b(a,b){for(var c=0;c<a.length;c++)if(a[c].id==b)return!0;return!1}var d,e,f,g,h,c=[];for(d=0;d<a.length;d++)e=a[d],b(a,e.parentId)||c.push(e);for(f=[],d=0;d<c.length;d++)f.push(c[d]);for(;f.length;)for(g=f.shift(),d=0;d<a.length;d++)e=a[d],e.parentId==g.id&&(h=e,g.children?g.children.push(h):g.children=[h],f.push(h));return c},uiEx.noConflict=function(){return window.uiEx===uiEx&&(window.uiEx=_uiEx),uiEx},jQuery.fn.extend({addTabsContextMenu:function(a){return this.each(function(){uiEx.addTabsContextMenu(this,a)})},clearForm:function(){var a;return this.each(function(){a=uiEx.clearForm(this)}),a},resetForm:function(){var a;return this.each(function(){a=uiEx.resetForm(this)}),a},loadForm:function(a,b){var c;return this.each(function(){c=uiEx.loadForm(this,a,b)}),c},openDialog:function(a){var b;return this.each(function(){b=uiEx.openDialog(this,a)}),b},openHrefDialog:function(a,b){var c;return this.each(function(){c=uiEx.openHrefDialog(this,a,b)}),c},closeDialog:function(){var a;return this.each(function(){a=uiEx.closeDialog(this)}),a},enableValidate:function(){var a;return this.each(function(){a=uiEx.enableValidate(this)}),a},disableValidate:function(){var a;return this.each(function(){a=uiEx.disableValidate(this)}),a},openMenuById:function(a,b){return this.each(function(){uiEx.openMenuById(this,a,b)})},openMenuByText:function(a,b){return this.each(function(){uiEx.openMenuByText(this,a,b)})},openTab:function(a,b,c){return this.each(function(){uiEx.openTab(this,a,b,c)})},initDatagrid:function(a){return this.each(function(){uiEx.initDatagrid(this,a)})},initEdatagrid:function(a){return this.each(function(){uiEx.initEdatagrid(this,a)})},initDetailDatagrid:function(a,b){return this.each(function(){uiEx.initDetailDatagrid(this,a,b)})},initTreegrid:function(a){return this.each(function(){uiEx.initTreegrid(this,a)})},initParentIdTreegrid:function(a){return this.each(function(){uiEx.initParentIdTreegrid(this,a)})},reloadSelTab:function(){return this.each(function(){uiEx.reloadSelTab(this)})},rowAdd:function(a){return this.each(function(){uiEx.rowAdd(this,a)})},rowDelete:function(a,b,c,d,e){return this.each(function(){uiEx.rowDelete(this,a,b,c,d,e)})},rowEdit:function(){return this.each(function(){uiEx.rowEdit(this)})},detailRowAdd:function(){return this.each(function(){uiEx.detailRowAdd(this)})},detailRowCancel:function(a){return this.each(function(){uiEx.detailRowCancel(this,a)})},detailRowSave:function(a){return this.each(function(){uiEx.detailRowSave(this,a)})},rowCancelEdit:function(){return this.each(function(){uiEx.rowCancelEdit(this)})},endEditGrid:function(){return this.each(function(){uiEx.endEditGrid(this)})},beginEditGrid:function(){return this.each(function(){uiEx.beginEditGrid(this)})},collapse:function(){return this.each(function(){uiEx.collapse(this)})},expand:function(){return this.each(function(){uiEx.expand(this)})},serializeJSON:function(){var a={};return this.each(function(){a=uiEx.serializeJSON(this)}),a},submitForm:function(a,b){return this.each(function(){uiEx.submitForm(this,a,b)})},submitAjax:function(a,b,c){return this.each(function(){uiEx.submitAjax(this,a,b,c)})},submitURLAjax:function(a,b,c,d){return this.each(function(){uiEx.submitURLAjax(this,a,b,c,d)})},initTreeChk:function(a,b){return this.each(function(){uiEx.initTreeChk(this,a,b)})},initParentIdTreeChk:function(a,b){return this.each(function(){uiEx.initParentIdTreeChk(this,a,b)})},initTree:function(a,b){return this.each(function(){uiEx.initTree(this,a,b)})},initParentIdTree:function(a,b){return this.each(function(){uiEx.initParentIdTree(this,a,b)})},treeChkRest:function(){return this.each(function(){uiEx.treeChkRest(this)})},treeChkSetValues:function(a){return this.each(function(){uiEx.treeChkSetValues(this,a)})},getCheckedIds:function(){var a;return this.each(function(){a=uiEx.getCheckedIds(this)}),a},validate:function(){var a;return this.each(function(){a=uiEx.validate(this)}),a}}),window.uiEx=uiEx}();